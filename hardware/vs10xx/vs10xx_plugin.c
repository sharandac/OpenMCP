/***************************************************************************
 *            vs10xx_plugin.c
 *
 *  Fri Feb 24 16:31:33 2012
 *  Copyright  2012  Dirk Broßwick
 *  <sharandac@snafu.de>
 ****************************************************************************/

/*
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Library General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor Boston, MA 02110-1301,  USA
 */

#include <avr/io.h>
#include <stdio.h>
#include <avr/pgmspace.h>
#include <avr/interrupt.h>

#include "config.h"


/**
 * \ingroup VS10xx
 * \addtogroup VS10xx_plugin Plugin für den VS1011e. (vs10xx_plugin.c)
 *
 * Spec-Plugin für den VS1011e.
 *
 * @{
 */

/**
 * \file
 *
 * \author Dirk Broßwick
 */

#if defined(VS10XX)

#include "vs10xx.h"
#include "vs10xx_plugin.h"

#define CODE_SIZE 980
const unsigned char atab[980] PROGMEM = { /* Register addresses */
    0x7, 0x6, 0x6, 0x6, 0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x7, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x7, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6,
    0x6, 0x6, 0x6, 0xA
};
const unsigned int dtab[980] PROGMEM = { /* Data to write */
    0x8050, 0x2800, 0x2f40, 0x0000, 0x0024, 0x8052, 0x3e12, 0xb817,
    0x3e12, 0x3815, 0x3e05, 0xb814, 0x3615, 0x0024, 0x0000, 0x800a,
    0x3e10, 0x3801, 0x0001, 0xe000, 0x3e10, 0xb803, 0x0000, 0x0303,
    0x3e11, 0x3805, 0x3e11, 0xb807, 0x3e14, 0x3812, 0xb884, 0x130c,
    0x3410, 0x4024, 0x4112, 0x10d0, 0x4010, 0x008c, 0x4010, 0x0024,
    0xf400, 0x4012, 0x3000, 0x3840, 0x3009, 0x3801, 0x0000, 0x0041,
    0xfe02, 0x0024, 0x2900, 0x82c0, 0x48b2, 0x0024, 0x36f3, 0x0844,
    0x6306, 0x8845, 0xae3a, 0x8840, 0xbf8e, 0x8b41, 0xac32, 0xa846,
    0xffc8, 0xabc7, 0x3e01, 0x7800, 0xf400, 0x4480, 0x6090, 0x0024,
    0x6090, 0x0024, 0xf400, 0x4015, 0x3009, 0x3446, 0x3009, 0x37c7,
    0x3009, 0x1800, 0x3009, 0x3844, 0x48b3, 0xe1e0, 0x4882, 0x4040,
    0xfeca, 0x0024, 0x5ac2, 0x0024, 0x5a52, 0x0024, 0x4cc2, 0x0024,
    0x48ba, 0x4040, 0x4eea, 0x4801, 0x4eca, 0x9800, 0xff80, 0x1bc1,
    0xf1eb, 0xe3e2, 0xf1ea, 0x184c, 0x4c8b, 0xe5e4, 0x48be, 0x9804,
    0x488e, 0x41c6, 0xfe82, 0x0024, 0x5a8e, 0x0024, 0x525e, 0x1b85,
    0x4ffe, 0x0024, 0x48b6, 0x41c6, 0x4dd6, 0x48c7, 0x4df6, 0x0024,
    0xf1d6, 0x0024, 0xf1d6, 0x0024, 0x4eda, 0x0024, 0x0000, 0x0fc3,
    0x2900, 0x82c0, 0x4e82, 0x0024, 0x4084, 0x130c, 0x0004, 0xe100,
    0x3440, 0x4024, 0x4010, 0x0024, 0xf400, 0x4012, 0x3200, 0x4024,
    0xb132, 0x0024, 0x4214, 0x0024, 0xf224, 0x0024, 0x6230, 0x0024,
    0x0001, 0x0001, 0x2800, 0x28c9, 0x0000, 0x0024, 0xf400, 0x40c2,
    0x3200, 0x0024, 0xff82, 0x0024, 0x48b2, 0x0024, 0xb130, 0x0024,
    0x6202, 0x0024, 0x003f, 0xf001, 0x2800, 0x2bd1, 0x0000, 0x1046,
    0xfe64, 0x0024, 0x48be, 0x0024, 0x2800, 0x2cc0, 0x3a01, 0x8024,
    0x3200, 0x0024, 0xb010, 0x0024, 0xc020, 0x0024, 0x3a00, 0x0024,
    0x36f4, 0x1812, 0x36f1, 0x9807, 0x36f1, 0x1805, 0x36f0, 0x9803,
    0x36f0, 0x1801, 0x3405, 0x9014, 0x36f3, 0x0024, 0x36f2, 0x1815,
    0x2000, 0x0000, 0x36f2, 0x9817, 0x80bd, 0x3613, 0x0024, 0x3e12,
    0xb817, 0x3e12, 0x3815, 0x3e05, 0xb814, 0x3645, 0x0024, 0x0000,
    0x800a, 0x3e10, 0xb803, 0x0000, 0x0242, 0x3e11, 0x3805, 0x3e11,
    0xb807, 0x3e14, 0x7812, 0x3e14, 0xf80d, 0x3e03, 0xf80e, 0x6124,
    0x0024, 0x0030, 0x01d2, 0x2800, 0x3595, 0x4182, 0x0024, 0x3204,
    0x4024, 0x3100, 0x8024, 0x0030, 0x03d1, 0x3900, 0x8024, 0x3200,
    0x8024, 0x6294, 0x0024, 0x2800, 0x7000, 0x3a00, 0x8024, 0x3613,
    0x0024, 0x2800, 0x3885, 0x0004, 0xe6d2, 0x0004, 0xe051, 0x0000,
    0x2fd2, 0x3100, 0x8803, 0x6238, 0x1bcc, 0x0000, 0x0024, 0x2800,
    0x4e85, 0x4194, 0x0024, 0x0004, 0xe6d2, 0x3613, 0x0024, 0x0000,
    0x0302, 0x0004, 0xe011, 0x3009, 0x3850, 0x0004, 0xe010, 0x3009,
    0x3840, 0x0000, 0x1800, 0x2900, 0x8480, 0xb882, 0xb801, 0x0001,
    0xe010, 0x0000, 0x1700, 0x2900, 0x8780, 0xb882, 0x0024, 0x3900,
    0x9bc1, 0x0000, 0x2fd1, 0x3009, 0x1bc0, 0x3009, 0x1bd0, 0x3009,
    0x0404, 0x0004, 0xe051, 0x2800, 0x3e40, 0x3901, 0x0024, 0x4448,
    0x0402, 0x4294, 0x0024, 0x6498, 0x2402, 0x001f, 0x4002, 0x6424,
    0x0024, 0x0004, 0xe011, 0x2800, 0x3d91, 0x0000, 0x058e, 0x2400,
    0x4dce, 0x0000, 0x0013, 0x0004, 0xe051, 0x0004, 0xfa04, 0x3100,
    0x8024, 0xf224, 0x44c5, 0x4458, 0x0024, 0xf400, 0x4115, 0x3500,
    0xc024, 0x623c, 0x0024, 0x0000, 0x0024, 0x2800, 0x4e11, 0x0000,
    0x0024, 0x4384, 0x184c, 0x3100, 0x3800, 0x291b, 0xef80, 0xf200,
    0x0024, 0x003f, 0xfec3, 0x4084, 0x4491, 0x3113, 0x1bc0, 0xa234,
    0x0024, 0x0000, 0x2003, 0x6236, 0x2402, 0x0000, 0x1003, 0x2800,
    0x4748, 0x0000, 0x0024, 0x003f, 0xf803, 0x3100, 0x8024, 0xb236,
    0x0024, 0x2800, 0x4d40, 0x3900, 0xc024, 0x6236, 0x0024, 0x0000,
    0x0803, 0x2800, 0x4988, 0x0000, 0x0024, 0x003f, 0xfe03, 0x3100,
    0x8024, 0xb236, 0x0024, 0x2800, 0x4d40, 0x3900, 0xc024, 0x6236,
    0x0024, 0x0000, 0x0403, 0x2800, 0x4bc8, 0x0000, 0x0024, 0x003f,
    0xff03, 0x3100, 0x8024, 0xb236, 0x0024, 0x2800, 0x4d40, 0x3900,
    0xc024, 0x6236, 0x0402, 0x003f, 0xff83, 0x2800, 0x4d48, 0x0000,
    0x0024, 0xb236, 0x0024, 0x3900, 0xc024, 0xb884, 0x07cc, 0x3900,
    0x88cc, 0x3313, 0x0024, 0x0004, 0xe091, 0x4194, 0x2413, 0x0004,
    0xe0d1, 0x2800, 0x7015, 0x0004, 0xe6c2, 0x3423, 0x0024, 0x3c10,
    0x8024, 0x3100, 0xc024, 0x4304, 0x0024, 0x39f0, 0x8024, 0x3100,
    0x8024, 0x3cf0, 0x8024, 0x0004, 0xe6c2, 0xb884, 0x33c2, 0x3c20,
    0x8024, 0x34d0, 0xc024, 0x6238, 0x0024, 0x0000, 0x0024, 0x2800,
    0x6698, 0x4396, 0x0024, 0x2400, 0x6643, 0x0000, 0x0024, 0x3423,
    0x0024, 0x34e4, 0x4024, 0x3123, 0x0024, 0x3100, 0xc024, 0x4304,
    0x0024, 0x4284, 0x2402, 0x0001, 0xe002, 0x2800, 0x6449, 0x0000,
    0x0024, 0x3613, 0x104c, 0x3004, 0xb850, 0x4088, 0x1043, 0x4336,
    0x1390, 0x4234, 0x0024, 0x4234, 0x0024, 0x0000, 0x2003, 0x2900,
    0x72c0, 0xf400, 0x4091, 0x3423, 0x1bd0, 0x3404, 0x4024, 0x3113,
    0x0024, 0x3100, 0x8024, 0x6236, 0x0024, 0x0004, 0x0003, 0x2800,
    0x5c58, 0x0000, 0x0024, 0x0000, 0x03c4, 0x4396, 0x844c, 0xb248,
    0x0402, 0xfe08, 0x0024, 0x48be, 0x0024, 0x4264, 0x4184, 0xb234,
    0x0024, 0x0004, 0x0003, 0x3900, 0x8024, 0x3404, 0x4024, 0x3123,
    0x0024, 0x3100, 0x8024, 0x6236, 0x0024, 0x0000, 0x4003, 0x2800,
    0x5e88, 0x0000, 0x0024, 0xb884, 0x878c, 0x3900, 0x8024, 0x34e4,
    0x4024, 0x3123, 0x0024, 0x31e0, 0x8024, 0x6236, 0x0402, 0x0000,
    0x0024, 0x2800, 0x6448, 0x4284, 0x0024, 0x0000, 0x0024, 0x2800,
    0x6455, 0x0000, 0x0024, 0x3413, 0x184c, 0x3410, 0x8024, 0x3e10,
    0x8024, 0x34e0, 0xc024, 0x2900, 0x1480, 0x3e10, 0xc024, 0xf400,
    0x40d1, 0x003f, 0xff44, 0x36e3, 0x048c, 0x3100, 0x8024, 0xfe44,
    0x0024, 0x48ba, 0x0024, 0x3901, 0x0024, 0x0000, 0x00c3, 0x3423,
    0x0024, 0xf400, 0x4511, 0x34e0, 0x8024, 0x4234, 0x0024, 0x39f0,
    0x8024, 0x3100, 0x8024, 0x6294, 0x0024, 0x3900, 0x8024, 0x0004,
    0xe011, 0x6894, 0x04c3, 0xa234, 0x0403, 0x6238, 0x0024, 0x0000,
    0x0024, 0x2800, 0x7001, 0x0000, 0x0024, 0xb884, 0x90cc, 0x39f0,
    0x8024, 0x3100, 0x8024, 0xb884, 0x3382, 0x3c20, 0x8024, 0x34d0,
    0xc024, 0x6238, 0x0024, 0x0004, 0xe112, 0x2800, 0x7018, 0x4396,
    0x0024, 0x2400, 0x6fc3, 0x0000, 0x0024, 0x0003, 0xf002, 0x3201,
    0x0024, 0xb424, 0x0024, 0x0028, 0x0002, 0x2800, 0x6ec5, 0x6246,
    0x0024, 0x0004, 0x0003, 0x2800, 0x6e81, 0x4434, 0x0024, 0x0000,
    0x1003, 0x6434, 0x0024, 0x2800, 0x6ec0, 0x3a00, 0x8024, 0x3a00,
    0x8024, 0x3213, 0x104c, 0xf400, 0x4511, 0x34f0, 0x8024, 0x6294,
    0x0024, 0x3900, 0x8024, 0x36f3, 0xd80e, 0x36f4, 0xd80d, 0x36f4,
    0x5812, 0x36f1, 0x9807, 0x36f1, 0x1805, 0x36f0, 0x9803, 0x3405,
    0x9014, 0x36f3, 0x0024, 0x36f2, 0x1815, 0x2000, 0x0000, 0x36f2,
    0x9817, 0x13e8, 0x0032, 0x004f, 0x007e, 0x00c8, 0x013d, 0x01f8,
    0x0320, 0x04f6, 0x07e0, 0x0c80, 0x13d8, 0x1f7f, 0x3200, 0x4f5f,
    0x61a8, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x81cb, 0x3e12, 0xb814, 0x0000, 0x800a, 0x3e10, 0x3801,
    0x3e10, 0xb803, 0x3e11, 0x7806, 0x3e11, 0xf813, 0x3e13, 0xf80e,
    0x3e13, 0x4024, 0x3e04, 0x7810, 0x449a, 0x0040, 0x0000, 0x0803,
    0x2800, 0x7d44, 0x30f0, 0x4024, 0x0fff, 0xfec2, 0xa020, 0x0024,
    0x0fff, 0xff02, 0xa122, 0x0024, 0x4036, 0x0024, 0x0000, 0x1fc2,
    0xb326, 0x0024, 0x0010, 0x4002, 0x4326, 0x4495, 0x4024, 0x40d2,
    0x0000, 0x0180, 0xa100, 0x4090, 0x0010, 0x0042, 0x4204, 0x0024,
    0xbc82, 0x4091, 0x459a, 0x0024, 0x0000, 0x0054, 0x2800, 0x7c44,
    0xbd86, 0x4093, 0x2400, 0x7c05, 0xfe01, 0x5e0c, 0x5c43, 0x5f2d,
    0x5e46, 0x0024, 0x5c56, 0x0024, 0x5e53, 0x5e0c, 0x5c43, 0x5f2d,
    0x5e46, 0x0024, 0x5c56, 0x0024, 0x5e52, 0x0024, 0x4cb2, 0x4405,
    0x0010, 0x4004, 0x654a, 0x9810, 0x0000, 0x0144, 0xa54a, 0x1bd1,
    0x0004, 0xe013, 0x3301, 0xc444, 0x687e, 0x2005, 0xad76, 0x8445,
    0x4ed6, 0x8784, 0x36f3, 0x64c2, 0xac72, 0x8785, 0x4ec2, 0xa443,
    0x3009, 0x2440, 0x3009, 0x2741, 0x36f3, 0xd80e, 0x36f1, 0xd813,
    0x36f1, 0x5806, 0x36f0, 0x9803, 0x36f0, 0x1801, 0x2000, 0x0000,
    0x36f2, 0x9814, 0x820b, 0x4c82, 0x0024, 0x0000, 0x0024, 0x2000,
    0x0005, 0xf5c2, 0x0024, 0x0000, 0x0980, 0x2000, 0x0000, 0x6010,
    0x0024, 0x8212, 0x4080, 0x184c, 0x3e03, 0x784f, 0x2800, 0x8685,
    0x3e03, 0xb810, 0x4090, 0x0024, 0x2400, 0x8640, 0x0000, 0x0024,
    0x3810, 0x4024, 0x36f3, 0x9810, 0x36f3, 0x580f, 0x2000, 0x0000,
    0x0000, 0x0024, 0x821e, 0x4080, 0x184c, 0x3e03, 0x784f, 0x2800,
    0x8985, 0x3e03, 0xb810, 0x4090, 0x0024, 0x2400, 0x8940, 0x0000,
    0x0024, 0x3009, 0x2041, 0x36f3, 0x9810, 0x36f3, 0x580f, 0x2000,
    0x0000, 0x0000, 0x0024, 0x0050
};

/* -----------------------------------------------------------------------------------------------------------*/
/*! \brief Läd das Plugin in den VS1011e
 * \param 	NONE		None
 * \return	NONE		None
 */
/* -----------------------------------------------------------------------------------------------------------*/ 
void VS10XX_loadplugin( void )
{
	int i;
	for ( i = 0 ; i < CODE_SIZE ; i++ )
	{
		VS10xx_write( pgm_read_byte( &atab[i] ) , pgm_read_word( &dtab[i] ) );
	}

}

/* -----------------------------------------------------------------------------------------------------------*/
/*! \brief Stellt ein neues BAnd für den Spec ein.
 * \param 	NONE		None
 * \return	NONE		None
 */
/* -----------------------------------------------------------------------------------------------------------*/ 
void VS10XX_loadbands( void )
{
	const unsigned int frequency[] = { 20 ,31 ,50 ,80 ,125 ,200 ,315 ,500 ,800 ,1250,2000,3150,5000,8000,12500,20000 }; 
	int i, bands = 16;
		
	/* send new frequencies */
	VS10xx_write( VS10xx_Register_WRAM_ADDR, VS1011_BASE + 0x68);
	for ( i = 0 ; i < bands ; i++)
		VS10xx_write( VS10xx_Register_WRAM, pgm_read_word( &frequency[i]) );

	if ( i < 23 )
		VS10xx_write( VS10xx_Register_WRAM, 25000);

	/* activate */
	VS10xx_write(VS10xx_Register_WRAM_ADDR, VS1011_BASE+1);
	VS10xx_write(VS10xx_Register_WRAM, 0);
}


/* -----------------------------------------------------------------------------------------------------------*/
/*! \brief Läd das Plugin in den VS1011e
 * \param 	spec		Pionter auf einen Puffer für die Spec-Daten
 * \return	NONE		0 = Ok, -1 = Fail
 */
/* -----------------------------------------------------------------------------------------------------------*/ 
int VS10XX_readspec( char * spec )
{
	int bands ,i, ret = -1;
	
	VS10xx_write( VS10xx_Register_WRAM_ADDR, VS1011_BASE + 2 );
	bands = VS10xx_read(VS10xx_Register_WRAM);
	VS10xx_write( VS10xx_Register_WRAM_ADDR, VS1011_BASE + 4 );

	if ( bands == 14 )
	{
		for ( i = 0 ; i < ( bands ) ; i++ )
		{
			spec[i] = ( char )( VS10xx_read( VS10xx_Register_WRAM ) & 0x001f );
			/* current value in bits 5..0, normally 0..31
			 peak value in bits 11..6, normally 0..31 */
		}
		ret = 0;
	}

	return( ret );
}
#endif

/**
 * @}
 */

